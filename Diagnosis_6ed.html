<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Діагноз злоякісного захворювання</title>
    <style>
        table {
            border-collapse: collapse;
            width: 100%;
        }
        th, td {
            border: 1px solid black;
            padding: 8px;
            text-align: left;
            cursor: pointer;
        }
        th {
            background-color: #b0c4de;
        }
        .hidden {
            display: none;
        }
        .hover-table tr {
            color: black; /* Default text color */
        }
        
        .hover-table tr:hover {
            color: red; /* Text color on hover */
        }
		        button {
            margin: 5px; /* Додати відступ між кнопками */
        }
        #numericKeyboard {
            display: none; /* Ховаємо клавіатуру за замовчуванням */
            margin-top: 10px;
        }
        #numericKeyboard button {
            width: 30px;
            height: 30px;
            font-size: 16px;
        }
    </style>
</head>
<body>
<center>Створити діагноз злоякісного новоутворення згідно класифікації ТNМ 6-го перегляду:</center>
<div id ="Patol" align="center";></div> <!-- Контейнер для вибору патології -->

<div id ="DS"><h3>
<span id="section0"></span> <span id="section1"></span> <span id="section2"></span><span id="section3"></span><span id="section4"></span><span id="section5"></span> <span id="St"></span>
</h3></div><!-- Контейнери для діагнозу -->

<!-- Таблиця TNM -->
<div id ="TNM" align="center" style="display: none";>
<table id="dynamicTable" class="hover-table"></table>
<button id="doneButton">Готово</button></div>

<!-- Кнопочне меню для доповнень до діагнозу -->
<div id="dopovnyty" style="display: none";>
<div id="ButtonsSworm"></div><br>
<center><textarea id="gotovo" rows="6" cols="100"></textarea><br>
<button id="clearButton">Очистити текстове поле</button>
<button id="toggleKeyboard">Цифри</button>
<button id="copyButton" onClick="CopyDS();">Скопіювати</button></center>

<div id="numericKeyboard">
    <button>1</button><button>2</button><button>3</button><br>
    <button>4</button><button>5</button><button>6</button><br>
    <button>7</button><button>8</button><button>9</button><br>
    <button>.</button><button>0</button><button>,</button><br>
</div>
</div>

<script>
// текст для кнопок доповнення діагнозу
// пропуск означає, що наступна кнопка буде з нового рядка
const multiLineText = `mts в 
численні mts в 
праву легеню
ліву легеню
обидві легені
печінку
кістки
наднирники
головний мозок

л/вузли шиї
л/вузли середостіння
черевні л/вузли
підпахвинні л/вузли
пахові л/вузли
справа
зліва

Стан після 
курсу 
курсів 
хіміотерапії
ПХТ
променевої терапії
ДПТ
СВД
Гр.
хірургічного лікування
операція

Динаміка 
позитивна
негативна
Продовження захворювання
Prolongatio morbi
у вигляді
росту первинного вогнища

ІІ КГ.
ІІІ КГ.
IV КГ.
. 
-
,`;	

const pat = ["Губа", "Ротова порожнина", "Ротоглотка", "Hосоглотка", "Гортаноглотка", "Надголосникова зона гортані",
"Голосникова зона гортані", "Підголосникова зона гортані", "Порожнина носа і решітчата пазуха", "Гайморова пазуха",
"Великі слинні залози", "Стравохід", "Легені", "Мезотеліома плеври"];

const sectionNames = ["гістологія", "локалізація", "категорія Т", "категорія N", "категорія M"];  

const data = [`Злоякісне новоутворення
Плоскоклітинний рак
Недиференційований рак

C00.0 зовнішньої поверхні верхньої губи
C00.1 зовнішньої поверхні нижньої губи
C00.2 зовнішньої поверхні губи БДУ
C00.3 слизової оболонки верхньої губи
C00.4 слизової оболонки нижньої губи
C00.5 слизової оболонки губи БДУ
C00.6 комісури зовнішньої поверхні губи зліва
C00.6 комісури зовнішньої поверхні губи справа
C00.8 слизової оболонки губи (поширене ураження) 

Tis Карцинома in situ
T1 Пухлина до 2 см у найбільшому вимірі
T2 Пухлина від 2 до 4 см у найбільшому вимірі
T3 Пухлина більше 4 см у найбільшому вимірі
T4 Пухлина ~поширюється на [кортикальний шар кістки|нижній альвеолярний нерв|дно порожнини рота|шкіру обличчя]

N0 Метастази у регіональних лімфатичних вузлах відсутні
N1 Метастази до 3 см у найбільшому вимірі в одному лімфатичному вузлі на стороні ураження
N2 Метастази від 3 до 6 см у найбільшому вимірі ~mts в {лімфатичному вузлі| лімфатичних вузлах} шиї {зліва|справа|з обох сторін}
N3 Метастази більше 6 см у найбільшому вимірі ~mts в {лімфатичному вузлі| лімфатичних вузлах} шиї {зліва|справа|з обох сторін}

M0 Віддалені метастази відсутні
M1 Віддалені метастази ~mts в [легені|л/вузли середостіння|кістки|печінку]`,

`Злоякісне новоутворення
Плоскоклітинний рак
Недиференційований рак

C02.0 дорзальної поверхні язика
C02.1 правої бокової поверхні язика
C02.1 лівої бокової поверхні язика
C02.2 нижньої поверхні язика
C02.3 передніх 2/3 язика
C02.8 язика (кілька відділів)
C03.0 верхнього альвеолярного паростка
C03.1 нижнього альвеолярного паростка
C04.0 передньої частини дна порожнини рота
C04.1 бокової частини дна порожнини рота зліва
C04.1 бокової частини дна порожнини рота справа
C04.8 дна порожнини рота (кілька відділів)
C05.0 твердого піднебіння
C05.8 твердого і м’якого піднебіння
C06.0 слизової оболонки правої щоки
C06.0 слизової оболонки лівої щоки
C06.1 слизової оболонки верхньої щічно-альвеолярної борозни
C06.1 слизової оболонки нижньої щічно-альвеолярної борозни
C06.2 слизової оболонки ретромолярної ділянки 

Tis Карцинома in situ
T1 Пухлина до 2 см у найбільшому вимірі
T2 Пухлина від 2 до 4 см у найбільшому вимірі
T3 Пухлина більше 4 см у найбільшому вимірі
T4a (резектабельна) пухлина поширюється на |кортикальний шар кістки нижньої щелепи, |гайморову пазуху, |глибокі м′язи язика, |шкіру обличчя
T4b (нерезектабельна) пухлина вражає |жувальний м′яз, |крилоподібні пластинки, |основу черепа, |внутрішню сонну артерію

N0 Метастази у регіональних лімфатичних вузлах відсутні
N1 Метастази діаметром до 3 см у найбільшому вимірі в одному лімфатичному вузлі на стороні ураження
N2 Метастази діаметром від 3 до 6 см у найбільшому вимірі mts в {лімфатичному вузлі| лімфатичних вузлах} шиї {зліва|справа|з обох сторін}
N3 Метастази більше 6 см у найбільшому вимірі mts в {лімфатичному вузлі| лімфатичних вузлах} шиї {зліва|справа|з обох сторін}

M0 Віддалені метастази відсутні
M1 Віддалені метастази, частіше – легені, л/вузли середостіння, рідше – кістки, печінка`,

`Злоякісне новоутворення
Плоскоклітинний рак
Перехідно-клітинний рак
Лімфоепітеліальний рак
Анапластичний рак
Недиференційований рак

C01.9 кореня язика
C01.9 задньої третини язика
C10.0 ямки надгортанника 
C10.2 бокової стінки ротоглотки справа
C10.2 бокової стінки ротоглотки зліва
C09.9 піднебінного мигдалика справа
C09.9 піднебінного мигдалика зліва
C09.0 мигдаликової ямки справа
C09.0 мигдаликової ямки зліва
C09.1 дужки піднебінного мигдалика справа
C09.1 дужки піднебінного мигдалика зліва
C09.1 язиково-мигдаликової борозни справа
C09.1 язиково-мигдаликової борозни зліва
C10.3 задньої стінки ротоглотки
C10.4 жаберних щілин
CO5.1 нижньої поверхні м’якого піднебіння
CO5.2 язичка

Tis Карцинома in situ
T1 Пухлина до 2 см в діаметрі у найбільшому вимірі
T2 Пухлина від 2 до 4 см в діаметрі у найбільшому вимірі
T3 Пухлина більше 4 см в діаметрі у найбільшому вимірі
T4a Пухлина вражає гортань, глибокі м′язи язика (підборідно-язиковий, під′язиково-язиковий, піднебінно-язиковий, шилоязиковий), тверде піднебіння, нижня щелепа
T4b Пухлина вражає крилоподібний м′яз, крилоподібний відросток, латеральна частина носоглотки, основа черепа або охоплює сонну артерію

N0 Метастази в регіональних лімфатичних вузлах відсутні
N1 Метастази в лімфатичному вузлі до 3 см у найбільшому вимірі на стороні ураження
N2a Метастази в лімфатичному вузлі від 3 до 6 см у найбільшому вимірі на стороні ураження
N2b Метастази в кількох лімфатичних вузлах від 3 до 6 см у найбільшому вимірі на стороні ураження
N2c Метастази в лімфатичному вузлах від 3 до 6 см у найбільшому вимірі на протилежній стороні ураження або з обох сторін
N3 Метастази діаметром більше 6 см у найбільшому вимірі в лімфатичних вузлах

M0 Віддалені метастази відсутні
M1 Віддалені метастази, частіше – легені, л/вузли середостіння, рідше – кістки, печінка`,

`Злоякісне новоутворення
Плоскоклітинний рак
Перехідно-клітинний рак
Лімфоепітеліальний рак
Анапластичний рак
Недиференційований рак

C11.0 верхньої стінки носоглотки
C11.1 задньої стінки носоглотки
C11.2 лівої бокової стінки носоглотки
C11.2 правої бокової стінки носоглотки
C11.3 нижньої стінки носоглотки
C11.9 носоглотки (розповсюджене ураження)

Tis Карцинома in situ
T1 Пухлина обмежена носоглоткою
T2a Пухлина розповсюджується на м′які тканини ротоглотки або нiс, без розповсвюдження на навкологлотковий простір
T2b Пухлина розповсюджується на м’які тканини ротоглотки або нiс, з розповсвюдженням на навкологлотковий простір
T3 Пухлина розповсюджується на кістки або придаткові пазухи
T4 Пухлина розповсюджується на –основу черепа, -черепні нерви, підвисочну ямку, -гортаноглотку, -очницю

N0 Метастази в регіональних лімфатичних вузлах відсутні
N1 Метастази в лімфатичному вузлі до 6 см у найбільшому вимірі на стороні ураження вище надключичної ямки
N2 Метастази в лімфатичних вузлах до 6 см у найбільшому вимірі з обох боків вище надключичної ямки
N3 Метастази в лімфатичних вузлах більше 6 см у найбільшому вимірі або ураження лімфовузлів надключичної ямки.

M0 Віддалені метастази відсутні
M1 Віддалені метастази, частіше – легені, л/вузли середостіння, рідше – кістки, печінка`,

`Злоякісне новоутворення
Плоскоклітинний рак
Перехідно-клітинний рак
Лімфоепітеліальний рак
Анапластичний рак
Недиференційований рак

C13.0 глотково-стравохідного з’єднання
C13.0 передньої стінки гортаноглотки
C12.0 грушеподібного синуса зліва
C12.0 грушеподібного синуса справа
C13.1 черпало-надгортанної складки зліва
C13.1 черпало-надгортанної складки справа
C13.2 задньої стінка глотки
C13.8 гортаноглотки (поширенен ураження)

Tis Карцинома in situ
T1 Пухлина до 2 см в діаметрі у найбільшому вимірі
T2 Пухлина без фіксації -від 2 до 4 см в діаметрі у найбільшому вимірі або -проростає прилеглі структури або -вражає більше однієї анатомічної частини гортаноглотки
T3 Пухлина більше 4 см в діаметрі у найбільшому вимірі або –фіксація половини гортані
T4a Пухлина уражає (інвазує, проростає, розповсюджується на) –щитоподібний хрящ, -перстнеподібний хрящ, -під’язикова кістка, -щитоподібна залоза, -стравохід, -центральний відділ м′яких тканин (преларингеальні шийні м′язи та підшкірна клітковина)
T4b Пухлина вражає -превертебральну фасцію, -охоплює сонну артерію або -проростає в структури середостіння

N0 Метастази в регіональних лімфатичних вузлах відсутні
N1 Метастази в лімфатичному вузлі до 3 см у найбільшому вимірі на стороні ураження
N2a Метастази в лімфатичному вузлі від 3 до 6 см у найбільшому вимірі на стороні ураження
N2b Метастази в кількох лімфатичних вузлах від 3 до 6 см у найбільшому вимірі на стороні ураження
N2c Метастази в лімфатичному вузлах від 3 до 6 см у найбільшому вимірі на протилежній стороні ураження або з обох сторін
N3 Метастази діаметром більше 6 см у найбільшому вимірі в лімфатичних вузлах

M0 Віддалені метастази відсутні
M1 Віддалені метастази, частіше – легені, л/вузли середостіння, рідше – кістки, печінка`,

`Злоякісне новоутворення
Плоскоклітинний рак
Недиференційований рак

C32.1 надголосникової ділянки гортані
C32.2 хрящів гортані
C32.8 гортані (розповсюджене ураження)
C32.9 гортані (БДУ)

Tis Рак in situ
T1 Пухлина обмежена анатомічною щзоною надголосникової ділянки із збереженням рухомості голосових зв′язок
T2 Пухлина уражає слизовий шар більш ніж одного суміжного анатомічного підрозділу або голосника або інші ділянки поза надголосниковою (наприклад, слизову основи кореня язика, валекули, медіальну стінку грушеподібного синуса) без фіксації гортані
T3 Пухлина обмежена гортанню з фіксацією голосових зв′язок та/або інвазує в: заперснеподібну ділянку, переднагортаний простір, параголосниковий
простір та/або внутрішній шар щитоподібного хряща
T4a Пухлина поширюється на щитоподібний хрящ та/або інвазує в тканини за межі гортані, наприклад, трахею, м′які тканини шиї, включаючи глибокі/зовнішні м′язи язика (підборідно-язиковий, під′язиково-язиковий, піднебінно-язиковий, шилоязиковий), шийні м′язи, щитоподібну залозу або стравохід
T4b Пухлина уражає превертебральну фасцію, вростає у сонну артерію, поширюється на медіастинальні структури

N0 Метастази в регіональних лімфатичних вузлах відсутні
N1 Метастази діаметром до 3 см у найбільшому вимірі в одному іпсилатеральному лімфатичному вузлі без екстранодального поширення
N2 Метастаз в одному іпсилатеральному лімфатичному вузлі від 3 до 6 см у найбільшому вимірі; множинні метастази до 6 см в найбільшому вимірі в іпсилатеральних лімфатичних вузлах; метастази в контрлатеральних лімфатичних вузлах до 6 см в діаметрі; множинні метастази в білатеральних лімфатичних вузлах.
N3 Метастази в одному або кількох лімфатичних вузлах діаметром більше ніж 6 см у найбільшому вимірі.

M0 Віддалені метастази відсутні
M1 Віддалені метастази, частіше – легені, л/вузли середостіння, рідше – кістки, печінка`,


`Злоякісне новоутворення
Плоскоклітинний рак
Недиференційований рак

C32.0 голосникової ділянки гортані
C32.2 хрящів гортані
C32.8 гортані (розповсюджене ураження)
C32.9 гортані (БДУ)

Tis Рак in situ
T1 Пухлина обмежена голосовими зв′язками, може уражати передню або задню комісуру, зі збереженням рухомості голосових зв′язок
T1a Пухлина обмежена однією голосовою зв’язкою
T1b Пухлина поширюється на обидві голосові зв’язки
T2 Пухлина поширюється до надголосникової та/або підголосникової ділянки та/або з порушенням функції рухливості голосових зв′язок
T3 Пухлина обмежена гортанню з фіксацією голосових зв′язок та/або поширенням на параголосниковий простірта/або внутрішню частину щитоподібного хряща
T4a Пухлина поширюється крізь зовнішню частину щитоподіного хряща та/або інвазує в тканини біля гортані, наприклад, трахею, м′які тканини шиї,
включаючи глибокі/ зовнішні м′язи язика (підборідно-язиковий, під′язиково-язиковий, піднебінно-язиковий, шилоязиковий), м′язи шиї, щитоподібну
залозу, стравохід
T4b Пухлина поширюється на превертебральну фасцію, вростає у сонну артерію або медіастинальні структури

N0 Метастази в регіональних лімфатичних вузлах відсутні
N1 Метастази діаметром до 3 см у найбільшому вимірі в одному іпсилатеральному лімфатичному вузлі без екстранодального поширення
N2 Метастаз в одному іпсилатеральному лімфатичному вузлі від 3 до 6 см у найбільшому вимірі; множинні метастази до 6 см в найбільшому вимірі в іпсилатеральних лімфатичних вузлах; метастази в контрлатеральних лімфатичних вузлах до 6 см в діаметрі; множинні метастази в білатеральних лімфатичних вузлах.
N3 Метастази в одному або кількох лімфатичних вузлах діаметром більше ніж 6 см у найбільшому вимірі.

M0 Віддалені метастази відсутні
M1 Віддалені метастази, частіше – легені, л/вузли середостіння, рідше – кістки, печінка`,

`Злоякісне новоутворення
Плоскоклітинний рак
Недиференційований рак

C32.2 підголосникової ділянки гортані
C32.2 хрящів гортані
C32.8 гортані (розповсюджене ураження)
C32.9 гортані (БДУ)

Tis Рак in situ
T1 Пухлина обмежена підголосниковою ділянкою
T2 Пухлина поширюється на голосові зв’язки з нормальною або порушеною рухливістю
T3 Пухлина обмежена гортанню з фіксацією голосових зв′язок
T4a Пухлина поширюється на перснеподібний або щитоподібний хрящ та/або інвазує в тканини за межі гортані, наприклад, в трахею, мякі тканини шиї, включаючи глибокий/зовнішній м′яз язика (підборідно-язиковий, під′язиково-язиковий, піднебінно-язиковий, шилоязиковий), підпід′язикові м′язи, щитоподібну залозу, стравохід
T4b Пухлина уражає превертебральну фасцію, вростає у сонну артерію або медіастинальні структури

N0 Метастази в регіональних лімфатичних вузлах відсутні
N1 Метастази діаметром до 3 см у найбільшому вимірі в одному іпсилатеральному лімфатичному вузлі без екстранодального поширення
N2 Метастаз в одному іпсилатеральному лімфатичному вузлі від 3 до 6 см у найбільшому вимірі; множинні метастази до 6 см в найбільшому вимірі в іпсилатеральних лімфатичних вузлах; метастази в контрлатеральних лімфатичних вузлах до 6 см в діаметрі; множинні метастази в білатеральних лімфатичних вузлах.
N3 Метастази в одному або кількох лімфатичних вузлах діаметром більше ніж 6 см у найбільшому вимірі.

M0 Віддалені метастази відсутні
M1 Віддалені метастази, частіше – легені, л/вузли середостіння, рідше – кістки, печінка`,

`Злоякісне новоутворення
Плоскоклітинний рак
Недиференційований рак

C30.0 носової порожнини
C30.0 перегородки носової порожнини
C30.0 дна носової порожнини
C30.0 латеральної стінки носової порожнини зліва
C30.0 латеральної стінки носової порожнини справа
C30.0 переддвір’я носа
C31.1 етмоїдної пазухи зліва
C31.1 етмоїдної пазухи справа
C31.1 решітчастої  пазухи зліва
C31.1 решітчастої  пазухи справа
C31.1 решітчастого синусу зліва
C31.1 решітчастого синусу справа
C30.8 носової порожнини (поширене ураження)
C30.9 носової порожнини (БДУ)
C31.9 етмоїдної пазухи  (БДУ)
C31.9 решітчастої пазухи  (БДУ)

Tis Рак in situ
T1 Пухлина обмежена одним підрозділом носової порожнини або етмоїдною пазухою з або без деструкції кістки
T2 Пухлина поширюється на два підрозділи в одній ділянці або поширюється на суміжну ділянку в межах назально-етмоїдального комплексу з або без деструкції кістки
T3 Пухлина поширюється та уражає медіальну або нижню стінку орбіти, верхньощелепну пазуху, піднебіння або решітчасту пластинку
T4a Пухлина уражає будь-що з наступного: передню частину орбіти, шкіра носа або щоки, передню черепну ямку, крилоподібну пластинку, клиноподібний або фронтальний пазуху (синуси)
T4b Пухлина уражає будь-що з наступного: верхівка орбіти, тверда оболонка мозку, головний мозок, середня черепна ямка, черепно-мозкові нерви, крім верхньощелепної гілки трійчастого нерва (ІІ пара), носоглотку або схил черепа

N0 Метастази в регіональних лімфатичних вузлах відсутні
N1 Метастазування діаметром до 3 см у найбільшому вимірі в одному іпсилатеральному лімфатичному вузлі 
N2 Метастази діаметром від 3 до 6 см у найбільшому вимірі в одному іпсилатеральному лімфатичному вузлі або
множинні метастази діаметром до 6 см у найбільшому вимірі в іпсилатеральних лімфатичних вузлах або
метастази діаметром до 6 см у найбільшому вимірі у білатеральних або контрлатеральних лімфатичних вузлах
N3 Метастази діаметром більше ніж 6 см у найбільшому в одному або кількох лімфатичних вузлах

M0 Віддалені метастази відсутні
M1 Віддалені метастази, частіше – легені, л/вузли середостіння, рідше – кістки, печінка`,

`Злоякісне новоутворення
Плоскоклітинний рак
Недиференційований рак

C31.0 гайморової пазухи справа
C31.0 гайморової пазухи зліва
C31.0 верхньощелепної пазухи справа
C31.0 верхньощелепної пазухи зліва
C31.8 гайморової пазухи (розповсюджене ураження)
C31.8 верхньощелепної пазухи (розповсюджене ураження)
C31.9 гайморової пазухи (БДУ)
C31.9 верхньощелепної пазухи (БДУ)

Tis Рак in situ
T1 Пухлина обмежена верхньощелепним синусом без ерозії та руйнування кістки
T2 Пухлина спричиняє ерозію або деструкцію кістки, включаючи поширення на тверде піднебіння та/або середній носовий хід, але не поширюється на задню стінку верхньощелепної пазухи та крилоподібну пластинку
T3 Пухлина уражає будь-що з наступного: кістка задньої стінки верхньощелепної пазухи, підшкірні тканини, нижню або медіальну стінку орбіти, крилоподібну ямку, етмоїдальний синус
T4a Пухлина уражає будь-що з наступного: передню частину орбіти, шкіра щоки, шкіра носа, крилоподібні відростки, підскронева ямка, решітчаста пластинка, клиноподібна або фронтальна пазухи
T4b Пухлина уражає будь-що з наступного: верхівка орбіти, тверда мозкова оболонка, мозок, середня черепна ямка, черепно-мозкові нерви, крім верхньощелепної гілки трійчастого нерва (ІІ пара), носоглотки або схилу черепа

N0 Метастази в регіональних лімфатичних вузлах відсутні
N1 Метастазування діаметром до 3 см у найбільшому вимірі в одному іпсилатеральному лімфатичному вузлі 
N2 Метастази діаметром від 3 до 6 см у найбільшому вимірі в одному іпсилатеральному лімфатичному вузлі або множинні метастази діаметром до 6 см у найбільшому вимірі в іпсилатеральних лімфатичних вузлах або метастази діаметром до 6 см у найбільшому вимірі у білатеральних або контрлатеральних лімфатичних вузлах
N3 Метастази діаметром більше ніж 6 см у найбільшому в одному або кількох лімфатичних вузлах 

M0 Віддалені метастази відсутні
M1 Віддалені метастази, частіше – легені, л/вузли середостіння, рідше – кістки, печінка`,

`Злоякісне новоутворення
Аденокарцинома
Ацинарно-клітинний рак
Поліморфна високодиференційована аденокарцинома
Цистаденокарцинома
Мукоемідермоїдний рак
Плеоморфна злоякісна аденома
Рак слинних протоків
Низькодиференційований рак слинних протоків
Низькодиференційована плеоморфна карцинома
Недиференційований рак

C07.0 привушної слинної залози справа
C07.0 привушної слинної залози зліва
C07.8 привушної слинної залози (поширене ураження)
C08.0 підщелепової слинної залози справа
C08.0 підщелепової слинної залози зліва
C08.8 підщелепової слинної залози (поширене ураження)
C08.1 під′язикової слинної залози

T1 Пухлина до 2 см у найбільшому вимірі без екстрапаренхімального поширення
T2 Пухлина від 2 до 4 см у найбільшому вимірі без екстрапаренхімального поширення
T3 Пухлина діаметром від 4 до 6 см у найбільшому вимірі або пухлина з екстрапаренхімальним поширенням без ураження лицевого нерва
T4a Пухлина уражає: шкіру, нижню щелепу, вушний (слуховий) канал, лицьовий нерв
T4b Пухлина уражає: основу черепа, крилоподібну пластинку, вростає у сонну артерію

N0 Метастази в регіональних лімфатичних вузлах відсутні
N1 Метастазування діаметром до 3 см у найбільшому вимірі в одному іпсилатеральному лімфатичному вузлі 
N2 Метастази діаметром від 3 до 6 см у найбільшому вимірі в одному іпсилатеральному лімфатичному вузлі або множинні метастази діаметром до 6 см у найбільшому вимірі в іпсилатеральних лімфатичних вузлах або метастази діаметром до 6 см у найбільшому вимірі у білатеральних або контрлатеральних лімфатичних вузлах
N3 Метастази діаметром більше ніж 6 см у найбільшому в одному або кількох лімфатичних вузлах 

M0 Віддалені метастази відсутні
M1 Віддалені метастази є, частіше - в легені`,

`Злоякісне новоутворення
Аденокарцинома
Плоскоклітинний рак
Недиференційований рак

C15.0 шийного відділу стравоходу
C15.1 грудного відділу стравоходу
C15.2 черевного відділу стравоходу
C15.3 верхньої третини стравоходу
C15.4 середньої третини стравоходу
C15.5 нижньої третини стравоходу
C15.8 стравоходу (розповсюджене ураження)
C16.0 стравохідно-шлункового з′єднання

Tis Рак in situ/дисплазія високого ступеня
T1 Пухлина проростає слизову оболонку або підслизовий шар стінки стравоходу
T2 Пухлина проростає м′язову оболонку стінки стравоходу
T3 Пухлина проростає адвентицію (серозну оболонку) стінки стравоходу
T4 Пухлина уражає суміжні структури: плевру, перикард, непарну вену, діафрагму, очеревину, аорту, тіло хребця, трахею

N0 Метастази у регіональних лімфатичних вузлах відсутні
N1 Метастази в регіональних (незалежно від локалізації пухлини) лімфатичних вузлах стравохідної ділянки, включаючи черевні та параезофагальні вузли шиї, але не надключичні.

M0 Віддалені метастази відсутні
M1 Віддалені метастази наявні
М1а для шийного відділу і в/3 - метастази в шийні л/вузли; для сер/3 -не застосовуєтся; для н/3 і черевного відділу - черевні л/в
M1b інші віддалені метастази - частіше нерегіонарні л/вузли, печінка, легені, плевра, нирки`,

`Злоякісне новоутворення
Плоскоклітинний рак
Крупноклітинний рак
Світлоклітинний рак
Веретеноклітинний рак
Аденокарцинома
Ацинарна аденокарцинома
Папілярна аденокарцинома
Солідна аденокарцинома
Бронхо-альвеолярний рак
Дрібноклітинний рак
Овсяноклітинний рак
Недиференційований рак

C34.0 правого головного бронху
C34.0 лівого головного бронху
C34.1 верхньої частки правої легені
C34.1 верхньої частки лівої легені
C34.2 середньої частки правої легені
C34.3 нижньої частки правої легені
C34.3 нижньої частки лівої легені
C34.8 правої легені (поширене ураження)
C34.8 лівої легені (поширене ураження)

Tis Рак in situ
T1 Пухлина діаметром до 3 см оточена легенею або вісцеральною плеврою без ознак інвазії в головний бронх
T2 Пухлина діаметром більше 3 або поширюється на головний бронх не ближче 2 см до біфуркації, проростає вісцеральну плевру, ателектаз або обструктивна пневмонія, які поширюється одну частку легені
T3 Пухлина поширюється на: медіастинальна плевра, грудна стінка, діафрагма, перикард, поширюється на головний бронх ближче ніж 2 см до біфуркації, але без її ураження, ателектаз або обструктивна пневмонія всієї легені
T4 Пухлина поширюється на: діафрагму, середостіння, серце, великі судини, трахею, поворотний гортанний нерв, стравохід, тіла хребців, біфуркацію або окремий вузол пухлини в тій же частці, що і первинна пухлина злоякісний плеврит, злоякісний перикардит

N0 Відсутність метастазів у регіональних лімфатичних вузлах
N1 Метастазування в внутрішньолегеневих, перибронхіальних, трахеобронхіальних лімфатичних вузлах на боці ураження, включаючи пряме поширення
N2 Метастазування в медіастинальні, субкаринальні лімфатичні вузли на боці ураження
N3 Метастазування в контралатеральні медіастинальні, трахеобронхіальні лімфатичні вузли; скаленні, надключичні лімфатичні вузли

M0 Відсутні віддалені метастази
M1 Віддалені метастази наявні. Метастази частіше в шийній л/вузли, печінку, головний мозок, кістки, наднирники, нирки, протилежну легеню`,

`Злоякісна мезотеліома
Епітеліальна мезотеліома
Фіброзна мезотеліома
Веретеноклітинна мезотеліома
Змішана форма мезотеліоми

С45.0 плеври справа
С45.0 плеври зліва

T1a Пухлина парієтальної плеври на боці ураження з вогнищевим ураженням вісцеральної плеври або без нього, поширюється на парієтальну (медіастінальну, діафрагмальну) плевру на боці ураження без ураження вісцеральної плеври
T1b Пухлина парієтальної плеври на боці ураження з вогнищевим ураженням вісцеральної плеври або без нього, поширюється на парієтальну (медіастінальну, діафрагмальну) плевру на боці ураження з вогнищевим ураженням вісцеральної плеври
T2 пухлина поширюється на парієтельну плевру з боку ураження, проростання в діафрагму, проростання в паренхіму легені, зливна пухлина вісцеральної плеври, включаючи борозну
Т3 пухлина поширюється на парієтельну плевру з боку ураження,  проростання внутрішньогрудної фасції, проростання в клітковину середостіння, окреме вогнище в м’яких тканинах грудної стінки, не трансмуральне проростання перикарду.
Т4 пухлина поширюється на парієтельну плевру з боку ураження,  дифузне або множинне ураження м’яких тканин грудної стінки, ураження ребра, проростання на брюшину через діафрагму, ураження органів середостіння, розповсюдження на контрлатеральну плевру, проростання в хребець, розповсюдження на внутрішню сторону перикарда, злоякісний перикардит, інвазія в міокард, розповсюдження на бронхіальне сплетіння

N0 Відсутність метастазів у регіональних лімфатичних вузлах
N1 Метастазування в бронхопульмональні лімфатичні вузли або л/вузли кореня легені на боці ураження
N2 Метастазування в медіастинальні, субкаринальні лімфатичні вузли на боці ураження
N3 Метастазування в медіастинальні лімфатичні вузли або л/вузли кореня легені з протилежної сторони або прескаленні чи надключичні лімфатичні вузли з будь-якого боку

M0 Відсутні віддалені метастази
M1 Віддалені метастази наявні`];


let katTNM=[-1, -1, -1]; // ознака, що ще не було заповнено
let patId = -1;

function createDropdown(options) {
  const selectElement = document.createElement('select');
  
  const placeholderOption = document.createElement('option');
  placeholderOption.textContent = '- - - - - оберіть локалізацію - - - - -';
  placeholderOption.disabled = true;
  placeholderOption.selected = true;
  selectElement.appendChild(placeholderOption);
  
  options.forEach((option, index) => {
    const optionElement = document.createElement('option');
    optionElement.value = index;
    optionElement.textContent = option;
    selectElement.appendChild(optionElement);
  });
  
  selectElement.addEventListener('change', (event) => {
    const a = parseInt(event.target.value); // Зміна патології по випадаючому списку
    patId = a;
    katTNM=[-1, -1, -1];
    section0.innerText = "";
    section1.innerText = "";
    section2.innerText = "";
    section3.innerText = "";
    section4.innerText = "";
    section5.innerText = "";
    St.innerText = "";
	dopovnyty.style.display="none";
	TNM.style.display="block";
    createTable(a);    
  });
  
  const container = document.getElementById('Patol');
  container.appendChild(selectElement);
}

function createTable(x) {
    const table = document.getElementById('dynamicTable');
    table.innerHTML = ''; // Очищення таблиці перед побудовою нової
    const sections = data[x].split('\n\n');
    sections.forEach((section, sectionIndex) => {
        const rows = section.split('\n');
        const sectionName = sectionNames[sectionIndex]; // Використовуємо ім'я з масиву sectionNames
        // Створюємо заголовок для секції
        const header = document.createElement('th');
        header.textContent = sectionName;  // Використовуємо назву розділу з масиву
        header.dataset.section = sectionIndex;
        header.addEventListener('click', toggleSection);
        table.appendChild(header);
        // Додаємо рядки під кожним заголовком
        for (let i = 0; i < rows.length; i++) {
            const row = document.createElement('tr');
            const cell = document.createElement('td');
            cell.textContent = rows[i];
            cell.dataset.section = sectionIndex;
            cell.dataset.row = i - 1;
            cell.addEventListener('click', handleCellClick);
            row.appendChild(cell);
            table.appendChild(row);
        }
    });
}

    function toggleSection(event) {
        const sectionIndex = event.target.dataset.section;
        const rows = document.querySelectorAll(`td[data-section="${sectionIndex}"]`);
        rows.forEach(row => {
            row.classList.toggle('hidden');
        });
    }

    function handleCellClick(event) {
            const cell = event.target;
            const sectionIndex = parseInt(cell.dataset.section);
            const rowIndex = parseInt(cell.dataset.row);
            const spanId = `section${sectionIndex + 1}`;
            const span = document.getElementById(spanId);
            
            if (sectionIndex === 0) { // гістологія
                span.textContent = cell.textContent;
            } else if (sectionIndex === 1) { // локалізація (без першого слова)
                span.textContent = cell.textContent.substring(cell.textContent.indexOf(' ') + 1);
                span.textContent += ", ";
                section0.innerText = cell.textContent.split(' ')[0];
            } else {
                span.textContent = cell.textContent.split(' ')[0]; // перше слово TNM
				// додати - якщо всі категорії ТНМ заповнені, то:
                window['stadia' + patId](sectionIndex+1, rowIndex+1); // ім'я функції залежить від patId
            }
            toggleSection({target: cell});
        }

    function stadia0(sectionNumber, rowNumber) {
		katTNM[sectionNumber-3] = rowNumber;
		if (katTNM[2]<0 || katTNM[1]<0 || katTNM[0]<0){
			return;
		}else{ // код стадіювання губа
			if (katTNM[2] == 1) { // Якщо M1, то стадія IVC
				St.innerText = "IVC ст.";
				return;
			} else if (katTNM[1] == 3) { // Якщо N3, то IVB
				St.innerText = "IVB ст.";
				return;
			} else if (katTNM[1] == 2) { // Якщо N2, то IVA
				St.innerText = "IVA ст.";
				return;
			} else {
				const pravyla = [["0", "I", "II", "III", "IVA"], ["III", "III", "III", "III", "IVA"]];
				St.innerText = pravyla[katTNM[1]][katTNM[0]];
				St.innerText += " ст.";
				return;
			}
		}
	}

    function stadia1(sectionNumber, rowNumber) {
		katTNM[sectionNumber-3] = rowNumber;
		if (katTNM[2]<0 || katTNM[1]<0 || katTNM[0]<0){
			return;
		}else{ // код стадіювання порожнина рота
			if (katTNM[2] == 1) { // Якщо M1, то стадія IVC
				St.innerText = "IVC ст.";
				return;
			} else if (katTNM[1] == 3) { // Якщо N3, то IVB
				St.innerText = "IVB ст.";
				return;
			} else if (katTNM[0] == 4) { // Якщо Т4b, то IVB
				St.innerText = "IVB ст.";
				return;
			} else if (katTNM[1] == 2) { // Якщо N2, то IVA
				St.innerText = "IVA ст.";
				return;
			} else {
				const pravyla = [["0", "I", "II", "III", "IVA"], ["III", "III", "III", "III", "IVA"]];
				St.innerText = pravyla[katTNM[1]][katTNM[0]];
				St.innerText += " ст.";
				return;
			}
		}
	}

    function stadia2(sectionNumber, rowNumber) {
		katTNM[sectionNumber-3] = rowNumber;
		if (katTNM[2]<0 || katTNM[1]<0 || katTNM[0]<0){
			return;
		}else{ // код стадіювання ротоглотка
			if (katTNM[2] == 1) { // Якщо M1, то стадія IVC
				St.innerText = "IVC ст.";
				return;
			} else if (katTNM[1] == 5) { // Якщо N3, то IVB
				St.innerText = "IVB ст.";
				return;
			} else if (katTNM[0] == 4) { // Якщо Т4b, то IVB
				St.innerText = "IVB ст.";
				return;
			} else if (katTNM[1] == 2 || katTNM[1] == 3 || katTNM[1] == 4 ) { 
				St.innerText = "IVA ст."; // Якщо N2a, N2b, N2c то IVA
				return;
			} else {
				const pravyla = [["0", "I", "II", "III", "IVA"], ["III", "III", "III", "III", "IVA"]];
				St.innerText = pravyla[katTNM[1]][katTNM[0]];
				St.innerText += " ст.";
				return;
			}
		}
	}

    function stadia3(sectionNumber, rowNumber) {
		katTNM[sectionNumber-3] = rowNumber;
		if (katTNM[2]<0 || katTNM[1]<0 || katTNM[0]<0){
			return;
		}else{ // код стадіювання носоглотка
			if (katTNM[2] == 1) { // Якщо M1, то стадія IVC
				St.innerText = "IVC ст.";
				return;
			} else if (katTNM[1] == 3) { // Якщо N3, то IVB
				St.innerText = "IVB ст.";
				return;
			} else if (katTNM[0] == 5) { // Якщо Т4, то IVА
				St.innerText = "IVА ст.";
				return;
			} else if (katTNM[1] == 2 ) {  // Якщо N2, то ІІІ 
				St.innerText = "IІІ ст.";
				return;
			} else if (katTNM[0] == 4 ) {  // Якщо Т3, то ІІІ
				St.innerText = "IІІ ст.";
				return;
			} else if (katTNM[1] == 1 ) {  // Якщо N1, то ІІВ 
				St.innerText = "IІВ ст.";
				return;
			} else {
				const pravyla = ["0", "I", "IIА", "IIВ"];
				St.innerText = pravyla[katTNM[0]];
				St.innerText += " ст.";
				return;
			}
		}
	}
	
	    function stadia4(sectionNumber, rowNumber) {
		katTNM[sectionNumber-3] = rowNumber;
		if (katTNM[2]<0 || katTNM[1]<0 || katTNM[0]<0){
			return;
		}else{ // код стадіювання гортаноглотка
			if (katTNM[2] == 1) { // Якщо M1, то стадія IVC
				St.innerText = "IVC ст.";
				return;
			} else if (katTNM[1] == 5) { // Якщо N3, то IVB
				St.innerText = "IVB ст.";
				return;
			} else if (katTNM[0] == 4) { // Якщо Т4b, то IVB
				St.innerText = "IVB ст.";
				return;
			} else if (katTNM[1] == 2 || katTNM[1] == 3 || katTNM[1] == 4 ) { 
				St.innerText = "IVA ст."; // Якщо N2a, N2b, N2c то IVA
				return;
			} else {
				const pravyla = [["0", "I", "II", "III", "IVA"], ["III", "III", "III", "III", "IVA"]];
				St.innerText = pravyla[katTNM[1]][katTNM[0]];
				St.innerText += " ст.";
				return;
			}
		}
	}


    function stadia5(sectionNumber, rowNumber) {
		katTNM[sectionNumber-3] = rowNumber;
		if (katTNM[2]<0 || katTNM[1]<0 || katTNM[0]<0){
			return;
		}else{ // код стадіювання гортань, надз'вязками
			if (katTNM[2] == 1) { // Якщо M1, то стадія IVC
				St.innerText = "IVC ст.";
				return;
			} else if (katTNM[1] == 3) { // Якщо N3, то IVB
				St.innerText = "IVB ст.";
				return;
			} else if (katTNM[0] == 5) { // Якщо Т4b, то IVB
				St.innerText = "IVD ст.";
				return;
			} else if (katTNM[1] == 2 ) {  // Якщо N2, то ІVA 
				St.innerText = "IVA ст.";
				return;
			} else if (katTNM[0] == 4 ) {  // Якщо Т4a, то ІVA
				St.innerText = "ІVA ст.";
				return;
			} else if (katTNM[1] == 1 ) {  // Якщо N1, то ІIІ 
				St.innerText = "IІI ст.";
				return;
			} else {
				const pravyla = ["0", "I", "II", "III"];
				St.innerText = pravyla[katTNM[0]];
				St.innerText += " ст.";
				return;
			}
		}
	}


    function stadia6(sectionNumber, rowNumber) {
		katTNM[sectionNumber-3] = rowNumber;
		if (katTNM[2]<0 || katTNM[1]<0 || katTNM[0]<0){
			return;
		}else{ // код стадіювання гортань, з'вязки
			if (katTNM[2] == 1) { // Якщо M1, то стадія IVC
				St.innerText = "IVC ст.";
				return;
			} else if (katTNM[1] == 3) { // Якщо N3, то IVB
				St.innerText = "IVB ст.";
				return;
			} else if (katTNM[0] == 5) { // Якщо Т4b, то IVB
				St.innerText = "IVD ст.";
				return;
			} else if (katTNM[1] == 2 ) {  // Якщо N2, то ІVA 
				St.innerText = "IVA ст.";
				return;
			} else if (katTNM[0] == 4 ) {  // Якщо Т4a, то ІVA
				St.innerText = "ІVA ст.";
				return;
			} else if (katTNM[1] == 1 ) {  // Якщо N1, то ІIІ 
				St.innerText = "IІI ст.";
				return;
			} else {
				const pravyla = ["0", "I", "I", "II", "III"];
				St.innerText = pravyla[katTNM[0]];
				St.innerText += " ст.";
				return;
			}
		}
	}


    function stadia7(sectionNumber, rowNumber) {
		katTNM[sectionNumber-3] = rowNumber;
		if (katTNM[2]<0 || katTNM[1]<0 || katTNM[0]<0){
			return;
		}else{ // код стадіювання гортань, підз'вязковий відділ
			if (katTNM[2] == 1) { // Якщо M1, то стадія IVC
				St.innerText = "IVC ст.";
				return;
			} else if (katTNM[1] == 3) { // Якщо N3, то IVB
				St.innerText = "IVB ст.";
				return;
			} else if (katTNM[0] == 5) { // Якщо Т4b, то IVB
				St.innerText = "IVD ст.";
				return;
			} else if (katTNM[1] == 2 ) {  // Якщо N2, то ІVA 
				St.innerText = "IVA ст.";
				return;
			} else if (katTNM[0] == 4 ) {  // Якщо Т4a, то ІVA
				St.innerText = "ІVA ст.";
				return;
			} else if (katTNM[1] == 1 ) {  // Якщо N1, то ІIІ 
				St.innerText = "IІI ст.";
				return;
			} else {
				const pravyla = ["0", "I", "II", "III"];
				St.innerText = pravyla[katTNM[0]];
				St.innerText += " ст.";
				return;
			}
		}
	}

    function stadia8(sectionNumber, rowNumber) {
		katTNM[sectionNumber-3] = rowNumber;
		if (katTNM[2]<0 || katTNM[1]<0 || katTNM[0]<0){
			return;
		}else{ // код стадіювання порожнина носа
			if (katTNM[2] == 1) { // Якщо M1, то стадія IVC
				St.innerText = "IVC ст.";
				return;
			} else if (katTNM[1] == 3) { // Якщо N3, то IVB
				St.innerText = "IVB ст.";
				return;
			} else if (katTNM[0] == 5) { // Якщо Т4b, то IVB
				St.innerText = "IVD ст.";
				return;
			} else if (katTNM[1] == 2 ) {  // Якщо N2, то ІVA 
				St.innerText = "IVA ст.";
				return;
			} else if (katTNM[0] == 4 ) {  // Якщо Т4a, то ІVA
				St.innerText = "ІVA ст.";
				return;
			} else if (katTNM[1] == 1 ) {  // Якщо N1, то ІIІ 
				St.innerText = "IІI ст.";
				return;
			} else {
				const pravyla = ["0", "I", "II", "III"];
				St.innerText = pravyla[katTNM[0]];
				St.innerText += " ст.";
				return;
			}
		}
	}

    function stadia9(sectionNumber, rowNumber) {
		katTNM[sectionNumber-3] = rowNumber;
		if (katTNM[2]<0 || katTNM[1]<0 || katTNM[0]<0){
			return;
		}else{ // код стадіювання гайморова пазуха
			if (katTNM[2] == 1) { // Якщо M1, то стадія IVC
				St.innerText = "IVC ст.";
				return;
			} else if (katTNM[1] == 3) { // Якщо N3, то IVB
				St.innerText = "IVB ст.";
				return;
			} else if (katTNM[0] == 5) { // Якщо Т4b, то IVB
				St.innerText = "IVD ст.";
				return;
			} else if (katTNM[1] == 2 ) {  // Якщо N2, то ІVA 
				St.innerText = "IVA ст.";
				return;
			} else if (katTNM[0] == 4 ) {  // Якщо Т4a, то ІVA
				St.innerText = "ІVA ст.";
				return;
			} else if (katTNM[1] == 1 ) {  // Якщо N1, то ІIІ 
				St.innerText = "IІI ст.";
				return;
			} else {
				const pravyla = ["0", "I", "II", "III"];
				St.innerText = pravyla[katTNM[0]];
				St.innerText += " ст.";
				return;
			}
		}
	}

    function stadia10(sectionNumber, rowNumber) {
		katTNM[sectionNumber-3] = rowNumber;
		if (katTNM[2]<0 || katTNM[1]<0 || katTNM[0]<0){
			return;
		}else{ // код стадіювання слинні залози
			if (katTNM[2] == 1) { // Якщо M1, то стадія IVC
				St.innerText = "IVC ст.";
				return;
			} else if (katTNM[1] == 3) { // Якщо N3, то IVB
				St.innerText = "IVB ст.";
				return;
			} else if (katTNM[0] == 5) { // Якщо Т4b, то IVB
				St.innerText = "IVD ст.";
				return;
			} else if (katTNM[1] == 2 ) {  // Якщо N2, то ІVA 
				St.innerText = "IVA ст.";
				return;
			} else if (katTNM[0] == 4 ) {  // Якщо Т4a, то ІVA
				St.innerText = "ІVA ст.";
				return;
			} else if (katTNM[1] == 1 ) {  // Якщо N1, то ІIІ 
				St.innerText = "IІI ст.";
				return;
			} else {
				const pravyla = ["І", "I", "II"];
				St.innerText = pravyla[katTNM[0]];
				St.innerText += " ст.";
				return;
			}
		}
	}

    function stadia11(sectionNumber, rowNumber) {
		katTNM[sectionNumber-3] = rowNumber;
		if (katTNM[2]<0 || katTNM[1]<0 || katTNM[0]<0){
			return;
		}else{ // код стадіювання стравохід
			if (katTNM[2] == 3) { // Якщо M1b, то стадія IVВ
				St.innerText = "IVB ст.";
				return;
			} else if (katTNM[2] == 2) { // Якщо M1a, то IVA
				St.innerText = "IVA ст.";
				return;
			} else if (katTNM[2] == 1) { // Якщо M1, то IV
				St.innerText = "IV ст.";
				return;
			} else if (katTNM[0] == 4) { // Якщо T4, то III
				St.innerText = "III ст.";
				return;
			} else {
				const pravyla = [["0", "I", "IIA", "IIA"], ["IIB", "IIB", "IIB", "III"]];
				St.innerText = pravyla[katTNM[1]][katTNM[0]];
				St.innerText += " ст.";
				return;
			}
		}
	}

    function stadia12(sectionNumber, rowNumber) {
		katTNM[sectionNumber-3] = rowNumber;
		if (katTNM[2]<0 || katTNM[1]<0 || katTNM[0]<0){
			return;
		}else{ // код стадіювання легені
			if (katTNM[2] == 1) { // Якщо M1, то стадія IV
				St.innerText = "IV ст.";
				return;
			} else if (katTNM[2] == 2) { // Якщо N3, то IIIB
				St.innerText = "IIIB ст.";
				return;
			} else if (katTNM[2] == 1) { // Якщо T4, то IIIB
				St.innerText = "IIIB ст.";
				return;
			} else if (katTNM[0] == 2) { // Якщо N2, то IIIA
				St.innerText = "IIIA ст.";
				return;
			} else {
				const pravyla = [["0", "IA", "IB", "IIB"], ["IIA", "IIA", "IIB", "IIIA"]];
				St.innerText = pravyla[katTNM[1]][katTNM[0]];
				St.innerText += " ст.";
				return;
			}
		}
	}

    function stadia13(sectionNumber, rowNumber) {
		katTNM[sectionNumber-3] = rowNumber;
		if (katTNM[2]<0 || katTNM[1]<0 || katTNM[0]<0){
			return;
		}else{ // код стадіювання мезотеліома
			if (katTNM[2] == 1 || katTNM[1] == 3 || katTNM[0] == 4 ){ // Якщо M1, N3, T4 то стадія IV
				St.innerText = "IV ст.";
				return;
			} else if (katTNM[1] == 2 || katTNM[1] == 1 || katTNM[0] == 3 ){ //Якщо N2, T3, N1 то III
				St.innerText = "III ст.";
				return;
			} else {
				const pravyla = ["ІA", "IB", "II"];
				St.innerText = pravyla[katTNM[0]];
				St.innerText += " ст.";
				return;
			}
		}
	}

function copyDivToClipboard() {
            const div = document.getElementById("DS");
            const text = div.innerText;
            const textarea = document.createElement('textarea');
            textarea.value = text;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
            alert('Текст скопійовано до буфера обміну');
        }

        window.onload = function() {
        	createDropdown(pat);
            document.getElementById('doneButton').addEventListener('click', function() {
				const div = document.getElementById("DS");
				const text = div.innerText;
				gotovo.value = text;
				dopovnyty.style.display = "block";
				TNM.style.display = "none";
				createButtonsFromText(multiLineText);
            });
        };

function createButtonsFromText(multiLineText) {
    const lines = multiLineText.split('\n'); // Розділити текст на рядки
    const buttonsContainer = document.getElementById('ButtonsSworm');
    
    // Очищення контейнера перед додаванням нових кнопок
    buttonsContainer.innerHTML = '';

    lines.forEach(line => {
        if (line.trim() === '') { // Якщо рядок порожній
            const br = document.createElement('br');
            buttonsContainer.appendChild(br); // Додати новий рядок
        } else {
            const button = document.createElement('button'); // Створити кнопку
            button.textContent = line; // Встановити текст кнопки
          
            // Додати обробник подій для кнопки
            button.onclick = () => {
			a = document.getElementById('gotovo');
	        a.value += button.textContent; // Додавання цифри до textarea
			a.focus();
            };            
            buttonsContainer.appendChild(button); // Додати кнопку в контейнер
        }
    });
}

// Додати функціонал для кнопки очищення
document.getElementById('clearButton').onclick = () => {
    document.getElementById('gotovo').value = ''; // Очищення текстового поля
};

// Функція для відображення/приховування цифрової клавіатури
document.getElementById('toggleKeyboard').onclick = () => {
    const keyboard = document.getElementById('numericKeyboard');
    if (keyboard.style.display === 'none') {
        keyboard.style.display = 'block'; // Показати клавіатуру
    } else {
        keyboard.style.display = 'none'; // Приховати клавіатуру
    }
};

// Додати обробники для кнопок цифр
const numericButtons = document.querySelectorAll('#numericKeyboard button');
numericButtons.forEach(button => {
    button.onclick = () => {
	a = document.getElementById('gotovo');
        a.value += button.textContent; // Додавання цифри до textarea
	a.focus();
    };
});

function CopyDS(){
	gotovo.select();
	document.execCommand('copy')
}

    </script>
</body>
</html>
